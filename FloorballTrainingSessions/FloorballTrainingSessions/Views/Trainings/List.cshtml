
@{
    ViewBag.Title = "List";
}

<div class="well">
    <h1>Přehled tréninků</h1>
</div>

    @using (Ajax.BeginForm("GetTrainings", "Trainings", new AjaxOptions
    {//GetPatients is name of method in PatientController
        InsertionMode = InsertionMode.Replace, //target element(#patientList) will be replaced
        UpdateTargetId = "traininglist",
        LoadingElementId = "loader" // div with .gif loader - that is shown when data are loading
    }))
    {
        int seasonpart = 0; int traininglocation = 0; int trainingfocus = 0; int trainingschememodel = 0;
        int selectedteam = ViewBag.selectedteam;
        int selectedseason = ViewBag.selectedseason;
        <div class="form-group">
            @Html.LabelFor(x => traininglocation, "traininglocation", htmlAttributes: new { @class = "control-label col-md-2" })
            @Html.DropDownList("traininglocation", null, htmlAttributes: new { @class = "form-control" })
            @Html.LabelFor(x => seasonpart, "seasonpart", htmlAttributes: new { @class = "control-label col-md-2" })
            @Html.DropDownList("seasonpart", null, htmlAttributes: new { @class = "form-control" })
            @Html.LabelFor(x => trainingfocus, "trainingfocus", htmlAttributes: new { @class = "control-label col-md-2" })
            @Html.DropDownList("trainingfocus", null, htmlAttributes: new { @class = "form-control" })
            @Html.LabelFor(x => trainingschememodel, "trainingschememodel", htmlAttributes: new { @class = "control-label col-md-2" })
            @Html.DropDownList("trainingschememodel", null, htmlAttributes: new { @class = "form-control" })
        </div>

        
                                    @Html.HiddenFor(x => selectedteam, new { @Value = ViewBag.selectedteam })
                                    @Html.HiddenFor(x => selectedseason, new { @Value = ViewBag.selectedseason })
                                    <input type="submit" value="Search" />
    }

    @* ... *@
    <div id="loader" class=" aletr" style="display:none">
        Loading...<img src="~/Images/ajax-loader.gif" />
    </div>
    @Html.Partial("_TrainingsList") @* this is view with patient table. Same view you will return from controller *@

    @section Scripts {

        <script src="~/Scripts/jquery.unobtrusive-ajax.js"></script>
    }
