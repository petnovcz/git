
@{
    ViewBag.Title = "List";
}

<div class="row well well-sm">
    <h1>Přehled tréninků</h1>
</div>

    @using (Ajax.BeginForm("GetTrainings", "Trainings", new AjaxOptions
    {//GetPatients is name of method in PatientController
        InsertionMode = InsertionMode.Replace, //target element(#patientList) will be replaced
        UpdateTargetId = "traininglist",
        LoadingElementId = "loader" // div with .gif loader - that is shown when data are loading
    }))
    {
        int seasonpart = 0; int traininglocation = 0; int trainingfocus = 0; int trainingschememodel = 0;
        int selectedteam = ViewBag.selectedteam;
        int selectedseason = ViewBag.selectedseason;
        <div class="form-inline" style="overflow:hidden">
        <div class="form-group col-lg-3 col-md-3">
           
            @Html.DropDownList("traininglocation", null, htmlAttributes: new { onchange = "$(this.form).submit();",  @class = "form-control col-md-3", @style = "width:100%" })
         </div>
         <div class="form-group col-lg-3 col-md-3">
                
                @Html.DropDownList("seasonpart", null, htmlAttributes: new { onchange = "$(this.form).submit();",  @class = "form-control col-md-3" , @style = "width:100%" })
          </div>
          <div class="form-group col-lg-3 col-md-3">
               
                @Html.DropDownList("trainingfocus", null, htmlAttributes: new { onchange = "$(this.form).submit();",   @class = "form-control col-md-3", @style = "width:100%" })
          </div>
          <div class="form-group col-lg-3 col-md-3">
                       
                        @Html.DropDownList("trainingschememodel", null, htmlAttributes: new { onchange = "$(this.form).submit();",   @class = "form-control col-md-3", @style = "width:100%" })
           </div>
            </div>

                    @Html.HiddenFor(x => selectedteam, new { @Value = ViewBag.selectedteam })
                    @Html.HiddenFor(x => selectedseason, new { @Value = ViewBag.selectedseason })
                    
                    }

                    @* ... *@
                    <div id="loader" class=" aletr" style="display:none">
                       @* <center><img src="~/Images/ajax-loader.gif" /></center>*@
    </div>
    @Html.Partial("_TrainingsList") @* this is view with patient table. Same view you will return from controller *@

                    @section Scripts {

                        <script src="~/Scripts/jquery.unobtrusive-ajax.js"></script>
                    }
